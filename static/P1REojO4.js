import{f as d,a as l,m as i,T as r}from"./vendor.s2Y4qQG_.js";document.body.onload=()=>{d("#id_date_of_birth",{})};document.addEventListener("alpine:init",()=>{const o=document.querySelector(".links-list"),s=l.get("csrftoken");i.data("removeEmptyHeader",()=>({init(){this.$el.innerText.length==0&&this.$el.remove()}})),i.data("showToggler",()=>({open:!1,toggle(){this.open=!this.open}})),i.data("autofocusing",()=>({init(){this.$el.querySelector('input:not([type="hidden"])').focus()}})),i.data("nav",()=>({open:!1,init(){o.style.maxHeight="0px"},toggle(){o.style.maxHeight==="0px"?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight="0px",this.open=!this.open}})),i.data("profileImage",()=>({init(){this.$refs.photoInput.addEventListener("change",t=>{const e=t.target.files[0];if(e){const a=new FileReader;a.onload=n=>{this.$refs.photoImg.src=n.target.result},a.readAsDataURL(e)}})},openPhotoImgInput(){this.$refs.photoInput.click()}})),i.data("newPostForm",()=>({editor:null,init(){this.editor=new r({el:this.$el.querySelector("#markdown-editor"),height:"31.25rem",initialEditType:"markdown",previewStyle:"tab",theme:"dark",hideModeSwitch:!0})},async post(t){const e=new FormData;e.append("action",t),e.append("title",this.$refs.title.value),e.append("body",this.editor.getMarkdown());const n=await(await fetch("/posts/new",{method:"POST",headers:{"X-CSRFToken":s},mode:"same-origin",body:e})).json();window.location.assign(n.url)}})),i.data("updatePostForm",()=>({editor:null,id:null,init(){this.id=this.$el.dataset.id;const t=this.$el.querySelector("#markdown-editor");this.editor=new r({el:t,height:"31.25rem",initialEditType:"markdown",previewStyle:"tab",theme:"dark",hideModeSwitch:!0,initialValue:t.textContent.trim()})},async update(){const t=new FormData;t.append("title",this.$refs.title.value),t.append("body",this.editor.getMarkdown());const a=await(await fetch(`/posts/${this.id}/edit/`,{method:"POST",headers:{"X-CSRFToken":s},mode:"same-origin",body:t})).json();window.location.assign(a.url)},cancel(){history.back()}}))});i.start();
